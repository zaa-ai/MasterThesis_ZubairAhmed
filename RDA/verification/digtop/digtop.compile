#!/bin/csh

source ../env

##------------------------------------------------
## Header
##------------------------------------------------

cd ../..
source project_env.csh

setenv SIM_DIR $SPSCR_SIMDIR/${PROJECT_STATE}
setenv SIMDIR  $SIM_DIR

module unload xa
module load xa/$SPSCR_XAVER
module unload vcs
module load vcs/$SPSCR_VCSVER
module unload cx
module load cx/$SPSCR_CXVER

##------------------------------------------------
## Digtop Compile
##------------------------------------------------

if ( $SPSCR_SDF ) then
  echo "Layout NL"
  sim $SPSCR_SIMDIRDIG clean gen an -f -lay=digtop_signoff
else
  echo "RTL"
  sim $SPSCR_SIMDIRDIG clean gen an -f
endif

##------------------------------------------------
## Clean-up
##------------------------------------------------

cd verification/digtop

echo ""
echo "Versions used:"
which vcs
which vlogan
which vhdlan
echo ""

##------------------------------------------------
##------------------------------------------------
